{"version":3,"file":"app.js","sources":["../../node_modules/focus-visible/dist/focus-visible.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/rxjs/dist/esm5/internal/util/isFunction.js","../../node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","../../node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","../../node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","../../node_modules/rxjs/dist/esm5/internal/Subscription.js","../../node_modules/rxjs/dist/esm5/internal/config.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","../../node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","../../node_modules/rxjs/dist/esm5/internal/util/noop.js","../../node_modules/rxjs/dist/esm5/internal/Subscriber.js","../../node_modules/rxjs/dist/esm5/internal/symbol/observable.js","../../node_modules/rxjs/dist/esm5/internal/util/identity.js","../../node_modules/rxjs/dist/esm5/internal/util/pipe.js","../../node_modules/rxjs/dist/esm5/internal/Observable.js","../../node_modules/rxjs/dist/esm5/internal/util/lift.js","../../node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/animationFrameProvider.js","../../node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","../../node_modules/rxjs/dist/esm5/internal/Subject.js","../../node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js","../../node_modules/rxjs/dist/esm5/internal/ReplaySubject.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/Action.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/intervalProvider.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/AsyncAction.js","../../node_modules/rxjs/dist/esm5/internal/Scheduler.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/AsyncScheduler.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/AnimationFrameAction.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/animationFrame.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/AnimationFrameScheduler.js","../../node_modules/rxjs/dist/esm5/internal/observable/empty.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleArray.js","../../node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","../../node_modules/rxjs/dist/esm5/internal/util/isPromise.js","../../node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","../../node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","../../node_modules/rxjs/dist/esm5/internal/util/isIterable.js","../../node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","../../node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","../../node_modules/rxjs/dist/esm5/internal/observable/from.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduled.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleObservable.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/schedulePromise.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleAsyncIterable.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleIterable.js","../../node_modules/rxjs/dist/esm5/internal/util/caughtSchedule.js","../../node_modules/rxjs/dist/esm5/internal/observable/fromArray.js","../../node_modules/rxjs/dist/esm5/internal/util/args.js","../../node_modules/rxjs/dist/esm5/internal/util/isScheduler.js","../../node_modules/rxjs/dist/esm5/internal/observable/of.js","../../node_modules/rxjs/dist/esm5/internal/operators/map.js","../../node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js","../../node_modules/rxjs/dist/esm5/internal/util/argsArgArrayOrObject.js","../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js","../../node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js","../../node_modules/rxjs/dist/esm5/internal/operators/mergeInternals.js","../../node_modules/rxjs/dist/esm5/internal/operators/mergeAll.js","../../node_modules/rxjs/dist/esm5/internal/operators/concatAll.js","../../node_modules/rxjs/dist/esm5/internal/observable/concat.js","../../node_modules/rxjs/dist/esm5/internal/observable/defer.js","../../node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js","../../node_modules/rxjs/dist/esm5/internal/util/argsOrArgArray.js","../../node_modules/rxjs/dist/esm5/internal/observable/merge.js","../../node_modules/rxjs/dist/esm5/internal/observable/never.js","../../node_modules/rxjs/dist/esm5/internal/operators/filter.js","../../node_modules/rxjs/dist/esm5/internal/operators/catchError.js","../../node_modules/rxjs/dist/esm5/internal/operators/mapTo.js","../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js","../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilKeyChanged.js","../../node_modules/rxjs/dist/esm5/internal/operators/finalize.js","../../node_modules/rxjs/dist/esm5/internal/operators/mergeWith.js","../../node_modules/rxjs/dist/esm5/internal/operators/share.js","../../node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js","../../node_modules/rxjs/dist/esm5/internal/operators/startWith.js","../../node_modules/rxjs/dist/esm5/internal/operators/switchMap.js","../../node_modules/rxjs/dist/esm5/internal/operators/tap.js","../../src/scripts/$browser/element/_/index.ts","../../src/scripts/$browser/element/size/index.ts","../../src/scripts/$browser/location/_/index.ts","../../src/scripts/$browser/location/hash/index.ts","../../src/scripts/$browser/media/index.ts","../../src/scripts/$browser/viewport/offset/index.ts","../../src/scripts/$browser/viewport/size/index.ts","../../src/scripts/components/_/index.ts","../../src/scripts/utilities/h/index.ts","../../src/scripts/_/index.ts","../../src/scripts/utilities/string/index.ts","../../src/scripts/components/source/facts/github/index.ts","../../src/scripts/$browser/request/index.ts","../../node_modules/rxjs/dist/esm5/internal/operators/defaultIfEmpty.js","../../src/scripts/components/source/_/index.ts","../../src/scripts/components/source/facts/_/index.ts","../../src/scripts/components/tabs/actions.ts","../../src/scripts/components/tabs/index.ts","../../node_modules/rxjs/dist/esm5/internal/operators/observeOn.js","../../src/scripts/$browser/viewport/_/index.ts","../../src/scripts/index.ts","../../src/scripts/$browser/document/index.ts","../../src/scripts/$browser/keyboard/index.ts","../../src/scripts/$browser/toggle/index.ts","../../src/scripts/components/source/actions/index.ts","../../src/scripts/components/source/templates/index.tsx"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * Applies the :focus-visible polyfill at the given scope.\n   * A scope in this case is either the top-level Document or a Shadow Root.\n   *\n   * @param {(Document|ShadowRoot)} scope\n   * @see https://github.com/WICG/focus-visible\n   */\n  function applyFocusVisiblePolyfill(scope) {\n    var hadKeyboardEvent = true;\n    var hadFocusVisibleRecently = false;\n    var hadFocusVisibleRecentlyTimeout = null;\n\n    var inputTypesAllowlist = {\n      text: true,\n      search: true,\n      url: true,\n      tel: true,\n      email: true,\n      password: true,\n      number: true,\n      date: true,\n      month: true,\n      week: true,\n      time: true,\n      datetime: true,\n      'datetime-local': true\n    };\n\n    /**\n     * Helper function for legacy browsers and iframes which sometimes focus\n     * elements like document, body, and non-interactive SVG.\n     * @param {Element} el\n     */\n    function isValidFocusTarget(el) {\n      if (\n        el &&\n        el !== document &&\n        el.nodeName !== 'HTML' &&\n        el.nodeName !== 'BODY' &&\n        'classList' in el &&\n        'contains' in el.classList\n      ) {\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Computes whether the given element should automatically trigger the\n     * `focus-visible` class being added, i.e. whether it should always match\n     * `:focus-visible` when focused.\n     * @param {Element} el\n     * @return {boolean}\n     */\n    function focusTriggersKeyboardModality(el) {\n      var type = el.type;\n      var tagName = el.tagName;\n\n      if (tagName === 'INPUT' && inputTypesAllowlist[type] && !el.readOnly) {\n        return true;\n      }\n\n      if (tagName === 'TEXTAREA' && !el.readOnly) {\n        return true;\n      }\n\n      if (el.isContentEditable) {\n        return true;\n      }\n\n      return false;\n    }\n\n    /**\n     * Add the `focus-visible` class to the given element if it was not added by\n     * the author.\n     * @param {Element} el\n     */\n    function addFocusVisibleClass(el) {\n      if (el.classList.contains('focus-visible')) {\n        return;\n      }\n      el.classList.add('focus-visible');\n      el.setAttribute('data-focus-visible-added', '');\n    }\n\n    /**\n     * Remove the `focus-visible` class from the given element if it was not\n     * originally added by the author.\n     * @param {Element} el\n     */\n    function removeFocusVisibleClass(el) {\n      if (!el.hasAttribute('data-focus-visible-added')) {\n        return;\n      }\n      el.classList.remove('focus-visible');\n      el.removeAttribute('data-focus-visible-added');\n    }\n\n    /**\n     * If the most recent user interaction was via the keyboard;\n     * and the key press did not include a meta, alt/option, or control key;\n     * then the modality is keyboard. Otherwise, the modality is not keyboard.\n     * Apply `focus-visible` to any current active element and keep track\n     * of our keyboard modality state with `hadKeyboardEvent`.\n     * @param {KeyboardEvent} e\n     */\n    function onKeyDown(e) {\n      if (e.metaKey || e.altKey || e.ctrlKey) {\n        return;\n      }\n\n      if (isValidFocusTarget(scope.activeElement)) {\n        addFocusVisibleClass(scope.activeElement);\n      }\n\n      hadKeyboardEvent = true;\n    }\n\n    /**\n     * If at any point a user clicks with a pointing device, ensure that we change\n     * the modality away from keyboard.\n     * This avoids the situation where a user presses a key on an already focused\n     * element, and then clicks on a different element, focusing it with a\n     * pointing device, while we still think we're in keyboard modality.\n     * @param {Event} e\n     */\n    function onPointerDown(e) {\n      hadKeyboardEvent = false;\n    }\n\n    /**\n     * On `focus`, add the `focus-visible` class to the target if:\n     * - the target received focus as a result of keyboard navigation, or\n     * - the event target is an element that will likely require interaction\n     *   via the keyboard (e.g. a text box)\n     * @param {Event} e\n     */\n    function onFocus(e) {\n      // Prevent IE from focusing the document or HTML element.\n      if (!isValidFocusTarget(e.target)) {\n        return;\n      }\n\n      if (hadKeyboardEvent || focusTriggersKeyboardModality(e.target)) {\n        addFocusVisibleClass(e.target);\n      }\n    }\n\n    /**\n     * On `blur`, remove the `focus-visible` class from the target.\n     * @param {Event} e\n     */\n    function onBlur(e) {\n      if (!isValidFocusTarget(e.target)) {\n        return;\n      }\n\n      if (\n        e.target.classList.contains('focus-visible') ||\n        e.target.hasAttribute('data-focus-visible-added')\n      ) {\n        // To detect a tab/window switch, we look for a blur event followed\n        // rapidly by a visibility change.\n        // If we don't see a visibility change within 100ms, it's probably a\n        // regular focus change.\n        hadFocusVisibleRecently = true;\n        window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n        hadFocusVisibleRecentlyTimeout = window.setTimeout(function() {\n          hadFocusVisibleRecently = false;\n        }, 100);\n        removeFocusVisibleClass(e.target);\n      }\n    }\n\n    /**\n     * If the user changes tabs, keep track of whether or not the previously\n     * focused element had .focus-visible.\n     * @param {Event} e\n     */\n    function onVisibilityChange(e) {\n      if (document.visibilityState === 'hidden') {\n        // If the tab becomes active again, the browser will handle calling focus\n        // on the element (Safari actually calls it twice).\n        // If this tab change caused a blur on an element with focus-visible,\n        // re-apply the class when the user switches back to the tab.\n        if (hadFocusVisibleRecently) {\n          hadKeyboardEvent = true;\n        }\n        addInitialPointerMoveListeners();\n      }\n    }\n\n    /**\n     * Add a group of listeners to detect usage of any pointing devices.\n     * These listeners will be added when the polyfill first loads, and anytime\n     * the window is blurred, so that they are active when the window regains\n     * focus.\n     */\n    function addInitialPointerMoveListeners() {\n      document.addEventListener('mousemove', onInitialPointerMove);\n      document.addEventListener('mousedown', onInitialPointerMove);\n      document.addEventListener('mouseup', onInitialPointerMove);\n      document.addEventListener('pointermove', onInitialPointerMove);\n      document.addEventListener('pointerdown', onInitialPointerMove);\n      document.addEventListener('pointerup', onInitialPointerMove);\n      document.addEventListener('touchmove', onInitialPointerMove);\n      document.addEventListener('touchstart', onInitialPointerMove);\n      document.addEventListener('touchend', onInitialPointerMove);\n    }\n\n    function removeInitialPointerMoveListeners() {\n      document.removeEventListener('mousemove', onInitialPointerMove);\n      document.removeEventListener('mousedown', onInitialPointerMove);\n      document.removeEventListener('mouseup', onInitialPointerMove);\n      document.removeEventListener('pointermove', onInitialPointerMove);\n      document.removeEventListener('pointerdown', onInitialPointerMove);\n      document.removeEventListener('pointerup', onInitialPointerMove);\n      document.removeEventListener('touchmove', onInitialPointerMove);\n      document.removeEventListener('touchstart', onInitialPointerMove);\n      document.removeEventListener('touchend', onInitialPointerMove);\n    }\n\n    /**\n     * When the polfyill first loads, assume the user is in keyboard modality.\n     * If any event is received from a pointing device (e.g. mouse, pointer,\n     * touch), turn off keyboard modality.\n     * This accounts for situations where focus enters the page from the URL bar.\n     * @param {Event} e\n     */\n    function onInitialPointerMove(e) {\n      // Work around a Safari quirk that fires a mousemove on <html> whenever the\n      // window blurs, even if you're tabbing out of the page. ¯\\_(ツ)_/¯\n      if (e.target.nodeName && e.target.nodeName.toLowerCase() === 'html') {\n        return;\n      }\n\n      hadKeyboardEvent = false;\n      removeInitialPointerMoveListeners();\n    }\n\n    // For some kinds of state, we are interested in changes at the global scope\n    // only. For example, global pointer input, global key presses and global\n    // visibility change should affect the state at every scope:\n    document.addEventListener('keydown', onKeyDown, true);\n    document.addEventListener('mousedown', onPointerDown, true);\n    document.addEventListener('pointerdown', onPointerDown, true);\n    document.addEventListener('touchstart', onPointerDown, true);\n    document.addEventListener('visibilitychange', onVisibilityChange, true);\n\n    addInitialPointerMoveListeners();\n\n    // For focus and blur, we specifically care about state changes in the local\n    // scope. This is because focus / blur events that originate from within a\n    // shadow root are not re-dispatched from the host element if it was already\n    // the active element in its own scope:\n    scope.addEventListener('focus', onFocus, true);\n    scope.addEventListener('blur', onBlur, true);\n\n    // We detect that a node is a ShadowRoot by ensuring that it is a\n    // DocumentFragment and also has a host property. This check covers native\n    // implementation and polyfill implementation transparently. If we only cared\n    // about the native implementation, we could just check if the scope was\n    // an instance of a ShadowRoot.\n    if (scope.nodeType === Node.DOCUMENT_FRAGMENT_NODE && scope.host) {\n      // Since a ShadowRoot is a special kind of DocumentFragment, it does not\n      // have a root element to add a class to. So, we add this attribute to the\n      // host element instead:\n      scope.host.setAttribute('data-js-focus-visible', '');\n    } else if (scope.nodeType === Node.DOCUMENT_NODE) {\n      document.documentElement.classList.add('js-focus-visible');\n      document.documentElement.setAttribute('data-js-focus-visible', '');\n    }\n  }\n\n  // It is important to wrap all references to global window and document in\n  // these checks to support server-side rendering use cases\n  // @see https://github.com/WICG/focus-visible/issues/199\n  if (typeof window !== 'undefined' && typeof document !== 'undefined') {\n    // Make the polyfill helper globally available. This can be used as a signal\n    // to interested libraries that wish to coordinate with the polyfill for e.g.,\n    // applying the polyfill to a shadow root:\n    window.applyFocusVisiblePolyfill = applyFocusVisiblePolyfill;\n\n    // Notify interested libraries of the polyfill's presence, in case the\n    // polyfill was loaded lazily:\n    var event;\n\n    try {\n      event = new CustomEvent('focus-visible-polyfill-ready');\n    } catch (error) {\n      // IE11 does not support using CustomEvent as a constructor directly:\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent('focus-visible-polyfill-ready', false, false, {});\n    }\n\n    window.dispatchEvent(event);\n  }\n\n  if (typeof document !== 'undefined') {\n    // Apply the polyfill to the global document, so that no JavaScript\n    // coordination is required to use the polyfill in the top-level document:\n    applyFocusVisiblePolyfill(document);\n  }\n\n})));\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spread, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._teardowns = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (Array.isArray(_parentage)) {\n                try {\n                    for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                        var parent_1 = _parentage_1_1.value;\n                        parent_1.remove(this);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n            else {\n                _parentage === null || _parentage === void 0 ? void 0 : _parentage.remove(this);\n            }\n            var initialTeardown = this.initialTeardown;\n            if (isFunction(initialTeardown)) {\n                try {\n                    initialTeardown();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _teardowns = this._teardowns;\n            if (_teardowns) {\n                this._teardowns = null;\n                try {\n                    for (var _teardowns_1 = __values(_teardowns), _teardowns_1_1 = _teardowns_1.next(); !_teardowns_1_1.done; _teardowns_1_1 = _teardowns_1.next()) {\n                        var teardown_1 = _teardowns_1_1.value;\n                        try {\n                            execTeardown(teardown_1);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spread(errors, err.errors);\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_teardowns_1_1 && !_teardowns_1_1.done && (_b = _teardowns_1.return)) _b.call(_teardowns_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execTeardown(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._teardowns = (_a = this._teardowns) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _teardowns = this._teardowns;\n        _teardowns && arrRemove(_teardowns, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execTeardown(teardown) {\n    if (isFunction(teardown)) {\n        teardown();\n    }\n    else {\n        teardown.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spread } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) || setTimeout).apply(void 0, __spread(args));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.destination = EMPTY_OBSERVER;\n        if ((observerOrNext || error || complete) && observerOrNext !== EMPTY_OBSERVER) {\n            var next = void 0;\n            if (isFunction(observerOrNext)) {\n                next = observerOrNext;\n            }\n            else if (observerOrNext) {\n                (next = observerOrNext.next, error = observerOrNext.error, complete = observerOrNext.complete);\n                var context_1;\n                if (_this && config.useDeprecatedNextContext) {\n                    context_1 = Object.create(observerOrNext);\n                    context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                }\n                else {\n                    context_1 = observerOrNext;\n                }\n                next = next === null || next === void 0 ? void 0 : next.bind(context_1);\n                error = error === null || error === void 0 ? void 0 : error.bind(context_1);\n                complete = complete === null || complete === void 0 ? void 0 : complete.bind(context_1);\n            }\n            _this.destination = {\n                next: next || noop,\n                error: error || defaultErrorHandler,\n                complete: complete || noop,\n            };\n        }\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction defaultErrorHandler(err) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n    }\n    reportUnhandledError(err);\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        var _a = this, operator = _a.operator, source = _a.source;\n        subscriber.add(operator\n            ? operator.call(subscriber, source)\n            : source || config.useDeprecatedSynchronousErrorHandling\n                ? this._subscribe(subscriber)\n                : this._trySubscribe(subscriber));\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    subscription === null || subscription === void 0 ? void 0 : subscription.unsubscribe();\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return operations.length ? pipeFromArray(operations)(this) : this;\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onError, onComplete, onUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onUnsubscribe = onUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    this.destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    this.destination.error(err);\n                }\n                this.unsubscribe();\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    this.destination.error(err);\n                }\n                this.unsubscribe();\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        !this.closed && ((_a = this.onUnsubscribe) === null || _a === void 0 ? void 0 : _a.call(this));\n        _super.prototype.unsubscribe.call(this);\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { __read, __spread } from \"tslib\";\nimport { Subscription } from '../Subscription';\nexport var animationFrameProvider = {\n    schedule: function (callback) {\n        var request = requestAnimationFrame;\n        var cancel = cancelAnimationFrame;\n        var delegate = animationFrameProvider.delegate;\n        if (delegate) {\n            request = delegate.requestAnimationFrame;\n            cancel = delegate.cancelAnimationFrame;\n        }\n        var handle = request(function (timestamp) {\n            cancel = undefined;\n            callback(timestamp);\n        });\n        return new Subscription(function () { return cancel === null || cancel === void 0 ? void 0 : cancel(handle); });\n    },\n    requestAnimationFrame: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var delegate = animationFrameProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.requestAnimationFrame) || requestAnimationFrame).apply(void 0, __spread(args));\n    },\n    cancelAnimationFrame: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var delegate = animationFrameProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.cancelAnimationFrame) || cancelAnimationFrame).apply(void 0, __spread(args));\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=animationFrameProvider.js.map","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var e_1, _a;\n        this._throwIfClosed();\n        if (!this.isStopped) {\n            var copy = this.observers.slice();\n            try {\n                for (var copy_1 = __values(copy), copy_1_1 = copy_1.next(); !copy_1_1.done; copy_1_1 = copy_1.next()) {\n                    var observer = copy_1_1.value;\n                    observer.next(value);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (copy_1_1 && !copy_1_1.done && (_a = copy_1.return)) _a.call(copy_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        this._throwIfClosed();\n        if (!this.isStopped) {\n            this.hasError = this.isStopped = true;\n            this.thrownError = err;\n            var observers = this.observers;\n            while (observers.length) {\n                observers.shift().error(err);\n            }\n        }\n    };\n    Subject.prototype.complete = function () {\n        this._throwIfClosed();\n        if (!this.isStopped) {\n            this.isStopped = true;\n            var observers = this.observers;\n            while (observers.length) {\n                observers.shift().complete();\n            }\n        }\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _this = this;\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        return hasError || isStopped\n            ? EMPTY_SUBSCRIPTION\n            : (observers.push(subscriber), new Subscription(function () { return arrRemove(_this.observers, subscriber); }));\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        !subscription.closed && subscriber.next(this._value);\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, _value = _a._value;\n        if (hasError) {\n            throw thrownError;\n        }\n        this._throwIfClosed();\n        return _value;\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, (this._value = value));\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map","export var dateTimestampProvider = {\n    now: function () {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nimport { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, timestampProvider) {\n        if (bufferSize === void 0) { bufferSize = Infinity; }\n        if (windowTime === void 0) { windowTime = Infinity; }\n        if (timestampProvider === void 0) { timestampProvider = dateTimestampProvider; }\n        var _this = _super.call(this) || this;\n        _this.bufferSize = bufferSize;\n        _this.windowTime = windowTime;\n        _this.timestampProvider = timestampProvider;\n        _this.buffer = [];\n        _this.infiniteTimeWindow = true;\n        _this.infiniteTimeWindow = windowTime === Infinity;\n        _this.bufferSize = Math.max(1, bufferSize);\n        _this.windowTime = Math.max(1, windowTime);\n        return _this;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var _a = this, isStopped = _a.isStopped, buffer = _a.buffer, infiniteTimeWindow = _a.infiniteTimeWindow, timestampProvider = _a.timestampProvider, windowTime = _a.windowTime;\n        if (!isStopped) {\n            buffer.push(value);\n            !infiniteTimeWindow && buffer.push(timestampProvider.now() + windowTime);\n        }\n        this.trimBuffer();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this.trimBuffer();\n        var subscription = this._innerSubscribe(subscriber);\n        var _a = this, infiniteTimeWindow = _a.infiniteTimeWindow, buffer = _a.buffer;\n        var copy = buffer.slice();\n        for (var i = 0; i < copy.length && !subscriber.closed; i += infiniteTimeWindow ? 1 : 2) {\n            subscriber.next(copy[i]);\n        }\n        this._checkFinalizedStatuses(subscriber);\n        return subscription;\n    };\n    ReplaySubject.prototype.trimBuffer = function () {\n        var _a = this, bufferSize = _a.bufferSize, timestampProvider = _a.timestampProvider, buffer = _a.buffer, infiniteTimeWindow = _a.infiniteTimeWindow;\n        var adjustedBufferSize = (infiniteTimeWindow ? 1 : 2) * bufferSize;\n        bufferSize < Infinity && adjustedBufferSize < buffer.length && buffer.splice(0, buffer.length - adjustedBufferSize);\n        if (!infiniteTimeWindow) {\n            var now = timestampProvider.now();\n            var last = 0;\n            for (var i = 1; i < buffer.length && buffer[i] <= now; i += 2) {\n                last = i;\n            }\n            last && buffer.splice(0, last + 1);\n        }\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\n//# sourceMappingURL=ReplaySubject.js.map","import { __extends } from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map","import { __read, __spread } from \"tslib\";\nexport var intervalProvider = {\n    setInterval: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var delegate = intervalProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) || setInterval).apply(void 0, __spread(args));\n    },\n    clearInterval: function (handle) {\n        var delegate = intervalProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { __extends } from \"tslib\";\nimport { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, _id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (_scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        intervalProvider.clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, _delay) {\n        var errored = false;\n        var errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = (!!e && e) || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            var _a = this, id = _a.id, scheduler = _a.scheduler;\n            var actions = scheduler.actions;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map","import { dateTimestampProvider } from \"./scheduler/dateTimestampProvider\";\nvar Scheduler = (function () {\n    function Scheduler(schedulerActionCtor, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    };\n    Scheduler.now = dateTimestampProvider.now;\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map","import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        var _this = _super.call(this, SchedulerAction, now) || this;\n        _this.actions = [];\n        _this.active = false;\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map","import { __extends } from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nimport { animationFrameProvider } from './animationFrameProvider';\nvar AnimationFrameAction = (function (_super) {\n    __extends(AnimationFrameAction, _super);\n    function AnimationFrameAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = animationFrameProvider.requestAnimationFrame(function () { return scheduler.flush(undefined); }));\n    };\n    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if ((delay != null && delay > 0) || (delay == null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            animationFrameProvider.cancelAnimationFrame(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    };\n    return AnimationFrameAction;\n}(AsyncAction));\nexport { AnimationFrameAction };\n//# sourceMappingURL=AnimationFrameAction.js.map","import { AnimationFrameAction } from './AnimationFrameAction';\nimport { AnimationFrameScheduler } from './AnimationFrameScheduler';\nexport var animationFrameScheduler = new AnimationFrameScheduler(AnimationFrameAction);\nexport var animationFrame = animationFrameScheduler;\n//# sourceMappingURL=animationFrame.js.map","import { __extends } from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar AnimationFrameScheduler = (function (_super) {\n    __extends(AnimationFrameScheduler, _super);\n    function AnimationFrameScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AnimationFrameScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        action = action || actions.shift();\n        var count = actions.length;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AnimationFrameScheduler;\n}(AsyncScheduler));\nexport { AnimationFrameScheduler };\n//# sourceMappingURL=AnimationFrameScheduler.js.map","import { Observable } from '../Observable';\nexport var EMPTY = new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, Array, AsyncIterable, or Iterable.\");\n}\n//# sourceMappingURL=throwUnobservableError.js.map","import { __asyncValues, __awaiter, __generator } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { Observable } from '../Observable';\nimport { scheduled } from '../scheduled/scheduled';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nfunction fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nfunction fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nfunction fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        while (!subscriber.closed) {\n            var _a = iterator.next(), done = _a.done, value = _a.value;\n            if (done) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(value);\n            }\n        }\n        return function () { return isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return(); };\n    });\n}\nfunction fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_1, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_1_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_1_1 = _b.sent();\n                    e_1 = { error: e_1_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_1) throw e_1.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=from.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[Symbol_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { Observable } from '../Observable';\nexport function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n        return scheduler.schedule(function () {\n            return input.then(function (value) {\n                subscriber.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    subscriber.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                subscriber.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            });\n        });\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var iterator = input[Symbol.asyncIterator]();\n            sub.add(scheduler.schedule(function () {\n                var _this = this;\n                iterator.next().then(function (result) {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                        _this.schedule();\n                    }\n                });\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { caughtSchedule } from '../util/caughtSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var iterator;\n        subscriber.add(scheduler.schedule(function () {\n            iterator = input[Symbol_iterator]();\n            caughtSchedule(subscriber, scheduler, function () {\n                var _a = iterator.next(), value = _a.value, done = _a.done;\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            });\n        }));\n        return function () { return isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return(); };\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","export function caughtSchedule(subscriber, scheduler, execute, delay) {\n    if (delay === void 0) { delay = 0; }\n    var subscription = scheduler.schedule(function () {\n        try {\n            execute.call(this);\n        }\n        catch (err) {\n            subscriber.error(err);\n        }\n    }, delay);\n    subscriber.add(subscription);\n    return subscription;\n}\n//# sourceMappingURL=caughtSchedule.js.map","import { scheduleArray } from '../scheduled/scheduleArray';\nimport { fromArrayLike } from './from';\nexport function internalFromArray(input, scheduler) {\n    return scheduler ? scheduleArray(input, scheduler) : fromArrayLike(input);\n}\n//# sourceMappingURL=fromArray.js.map","import { isFunction } from './isFunction';\nimport { isScheduler } from './isScheduler';\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\nexport function popResultSelector(args) {\n    return isFunction(last(args)) ? args.pop() : undefined;\n}\nexport function popScheduler(args) {\n    return isScheduler(last(args)) ? args.pop() : undefined;\n}\nexport function popNumber(args, defaultValue) {\n    return typeof last(args) === 'number' ? args.pop() : defaultValue;\n}\n//# sourceMappingURL=args.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","import { internalFromArray } from './fromArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nimport { popScheduler } from '../util/args';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    return scheduler ? scheduleArray(args, scheduler) : internalFromArray(args);\n}\n//# sourceMappingURL=of.js.map","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { __read, __spread } from \"tslib\";\nimport { map } from \"../operators/map\";\nvar isArray = Array.isArray;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn.apply(void 0, __spread(args)) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(function (args) { return callOrApply(fn, args); });\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","var isArray = Array.isArray;\nvar getPrototypeOf = Object.getPrototypeOf, objectProto = Object.prototype, getKeys = Object.keys;\nexport function argsArgArrayOrObject(args) {\n    if (args.length === 1) {\n        var first_1 = args[0];\n        if (isArray(first_1)) {\n            return { args: first_1, keys: null };\n        }\n        if (isPOJO(first_1)) {\n            var keys = getKeys(first_1);\n            return {\n                args: keys.map(function (key) { return first_1[key]; }),\n                keys: keys,\n            };\n        }\n    }\n    return { args: args, keys: null };\n}\nfunction isPOJO(obj) {\n    return obj && typeof obj === 'object' && getPrototypeOf(obj) === objectProto;\n}\n//# sourceMappingURL=argsArgArrayOrObject.js.map","import { __extends } from \"tslib\";\nimport { Observable } from '../Observable';\nimport { argsArgArrayOrObject } from '../util/argsArgArrayOrObject';\nimport { Subscriber } from '../Subscriber';\nimport { from } from './from';\nimport { identity } from '../util/identity';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { popResultSelector, popScheduler } from '../util/args';\nexport function combineLatest() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    var resultSelector = popResultSelector(args);\n    var _a = argsArgArrayOrObject(args), observables = _a.args, keys = _a.keys;\n    if (observables.length === 0) {\n        return from([], scheduler);\n    }\n    var result = new Observable(combineLatestInit(observables, scheduler, keys\n        ?\n            function (values) {\n                var value = {};\n                for (var i = 0; i < values.length; i++) {\n                    value[keys[i]] = values[i];\n                }\n                return value;\n            }\n        :\n            identity));\n    if (resultSelector) {\n        return result.pipe(mapOneOrManyArgs(resultSelector));\n    }\n    return result;\n}\nvar CombineLatestSubscriber = (function (_super) {\n    __extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, _next, shouldComplete) {\n        var _this = _super.call(this, destination) || this;\n        _this._next = _next;\n        _this.shouldComplete = shouldComplete;\n        return _this;\n    }\n    CombineLatestSubscriber.prototype._complete = function () {\n        if (this.shouldComplete()) {\n            _super.prototype._complete.call(this);\n        }\n        else {\n            this.unsubscribe();\n        }\n    };\n    return CombineLatestSubscriber;\n}(Subscriber));\nexport function combineLatestInit(observables, scheduler, valueTransform) {\n    if (valueTransform === void 0) { valueTransform = identity; }\n    return function (subscriber) {\n        var primarySubscribe = function () {\n            var length = observables.length;\n            var values = new Array(length);\n            var active = length;\n            var hasValues = observables.map(function () { return false; });\n            var waitingForFirstValues = true;\n            var emit = function () { return subscriber.next(valueTransform(values.slice())); };\n            var _loop_1 = function (i) {\n                var subscribe = function () {\n                    var source = from(observables[i], scheduler);\n                    source.subscribe(new CombineLatestSubscriber(subscriber, function (value) {\n                        values[i] = value;\n                        if (waitingForFirstValues) {\n                            hasValues[i] = true;\n                            waitingForFirstValues = !hasValues.every(identity);\n                        }\n                        if (!waitingForFirstValues) {\n                            emit();\n                        }\n                    }, function () { return --active === 0; }));\n                };\n                maybeSchedule(scheduler, subscribe, subscriber);\n            };\n            for (var i = 0; i < length; i++) {\n                _loop_1(i);\n            }\n        };\n        maybeSchedule(scheduler, primarySubscribe, subscriber);\n    };\n}\nfunction maybeSchedule(scheduler, execute, subscription) {\n    if (scheduler) {\n        subscription.add(scheduler.schedule(execute));\n    }\n    else {\n        execute();\n    }\n}\n//# sourceMappingURL=combineLatest.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/from';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    if (isFunction(resultSelector)) {\n        return mergeMap(function (a, i) { return map(function (b, ii) { return resultSelector(a, b, i, ii); })(innerFrom(project(a, i))); }, concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate(function (source, subscriber) { return mergeInternals(source, subscriber, project, concurrent); });\n}\nexport var flatMap = mergeMap;\n//# sourceMappingURL=mergeMap.js.map","import { innerFrom } from '../observable/from';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalTeardown) {\n    var buffer = [];\n    var active = 0;\n    var index = 0;\n    var isComplete = false;\n    var checkComplete = function () {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    var outerNext = function (value) { return (active < concurrent ? doInnerSub(value) : buffer.push(value)); };\n    var doInnerSub = function (value) {\n        expand && subscriber.next(value);\n        active++;\n        innerFrom(project(value, index++)).subscribe(new OperatorSubscriber(subscriber, function (innerValue) {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, undefined, function () {\n            active--;\n            var _loop_1 = function () {\n                var bufferedValue = buffer.shift();\n                innerSubScheduler ? subscriber.add(innerSubScheduler.schedule(function () { return doInnerSub(bufferedValue); })) : doInnerSub(bufferedValue);\n            };\n            while (buffer.length && active < concurrent) {\n                _loop_1();\n            }\n            checkComplete();\n        }));\n    };\n    source.subscribe(new OperatorSubscriber(subscriber, outerNext, undefined, function () {\n        isComplete = true;\n        checkComplete();\n    }));\n    return function () {\n        buffer = null;\n        additionalTeardown === null || additionalTeardown === void 0 ? void 0 : additionalTeardown();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map","import { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map","import { concatAll } from '../operators/concatAll';\nimport { internalFromArray } from './fromArray';\nimport { popScheduler } from '../util/args';\nexport function concat() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return concatAll()(internalFromArray(args, popScheduler(args)));\n}\n//# sourceMappingURL=concat.js.map","import { Observable } from '../Observable';\nimport { innerFrom } from './from';\nexport function defer(observableFactory) {\n    return new Observable(function (subscriber) {\n        innerFrom(observableFactory()).subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=defer.js.map","import { __read } from \"tslib\";\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { internalFromArray } from './fromArray';\nvar nodeEventEmitterMethods = ['addListener', 'removeListener'];\nvar eventTargetMethods = ['addEventListener', 'removeEventListener'];\nvar jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    var _a = __read(isEventTarget(target)\n        ? eventTargetMethods.map(function (methodName) { return function (handler) { return target[methodName](eventName, handler, options); }; })\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [], 2), add = _a[0], remove = _a[1];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap(function (subTarget) { return fromEvent(subTarget, eventName, options); })(internalFromArray(target));\n        }\n    }\n    return new Observable(function (subscriber) {\n        if (!add) {\n            throw new TypeError('Invalid event target');\n        }\n        var handler = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subscriber.next(1 < args.length ? args : args[0]);\n        };\n        add(handler);\n        return function () { return remove(handler); };\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return function (methodName) { return function (handler) { return target[methodName](eventName, handler); }; };\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","var isArray = Array.isArray;\nexport function argsOrArgArray(args) {\n    return args.length === 1 && isArray(args[0]) ? args[0] : args;\n}\n//# sourceMappingURL=argsOrArgArray.js.map","import { mergeAll } from '../operators/mergeAll';\nimport { internalFromArray } from './fromArray';\nimport { argsOrArgArray } from '../util/argsOrArgArray';\nimport { innerFrom } from './from';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nexport function merge() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    var concurrent = popNumber(args, Infinity);\n    var sources = argsOrArgArray(args);\n    return !sources.length\n        ?\n            EMPTY\n        : sources.length === 1\n            ?\n                innerFrom(sources[0])\n            :\n                mergeAll(concurrent)(internalFromArray(sources, scheduler));\n}\n//# sourceMappingURL=merge.js.map","import { Observable } from '../Observable';\nimport { noop } from '../util/noop';\nexport var NEVER = new Observable(noop);\nexport function never() {\n    return NEVER;\n}\n//# sourceMappingURL=never.js.map","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { innerFrom } from '../observable/from';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nimport { operate } from '../util/lift';\nexport function catchError(selector) {\n    return operate(function (source, subscriber) {\n        var innerSub = null;\n        var syncUnsub = false;\n        var handledResult;\n        innerSub = source.subscribe(new OperatorSubscriber(subscriber, undefined, function (err) {\n            handledResult = innerFrom(selector(err, catchError(selector)(source)));\n            if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                handledResult.subscribe(subscriber);\n            }\n            else {\n                syncUnsub = true;\n            }\n        }));\n        if (syncUnsub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            handledResult.subscribe(subscriber);\n        }\n    });\n}\n//# sourceMappingURL=catchError.js.map","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function mapTo(value) {\n    return operate(function (source, subscriber) {\n        source.subscribe(new OperatorSubscriber(subscriber, function () { return subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=mapTo.js.map","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(compare, keySelector) {\n    compare = compare !== null && compare !== void 0 ? compare : defaultCompare;\n    return operate(function (source, subscriber) {\n        var prev;\n        var first = true;\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            ((first && ((prev = value), 1)) || !compare(prev, (prev = keySelector ? keySelector(value) : value))) &&\n                subscriber.next(value);\n            first = false;\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { distinctUntilChanged } from './distinctUntilChanged';\nexport function distinctUntilKeyChanged(key, compare) {\n    return distinctUntilChanged(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });\n}\n//# sourceMappingURL=distinctUntilKeyChanged.js.map","import { operate } from '../util/lift';\nexport function finalize(callback) {\n    return operate(function (source, subscriber) {\n        source.subscribe(subscriber);\n        subscriber.add(callback);\n    });\n}\n//# sourceMappingURL=finalize.js.map","import { __read, __spread } from \"tslib\";\nimport { operate } from '../util/lift';\nimport { argsOrArgArray } from '../util/argsOrArgArray';\nimport { internalFromArray } from '../observable/fromArray';\nimport { mergeAll } from './mergeAll';\nimport { popNumber, popScheduler } from '../util/args';\nexport function merge() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(args);\n    var concurrent = popNumber(args, Infinity);\n    args = argsOrArgArray(args);\n    return operate(function (source, subscriber) {\n        mergeAll(concurrent)(internalFromArray(__spread([source], args), scheduler)).subscribe(subscriber);\n    });\n}\nexport function mergeWith() {\n    var otherSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        otherSources[_i] = arguments[_i];\n    }\n    return merge.apply(void 0, __spread(otherSources));\n}\n//# sourceMappingURL=mergeWith.js.map","import { Subject } from '../Subject';\nimport { from } from '../observable/from';\nimport { operate } from '../util/lift';\nexport function share(options) {\n    options = options || {};\n    var _a = options.connector, connector = _a === void 0 ? function () { return new Subject(); } : _a, _b = options.resetOnComplete, resetOnComplete = _b === void 0 ? true : _b, _c = options.resetOnError, resetOnError = _c === void 0 ? true : _c, _d = options.resetOnRefCountZero, resetOnRefCountZero = _d === void 0 ? true : _d;\n    var connection = null;\n    var subject = null;\n    var refCount = 0;\n    var hasCompleted = false;\n    var hasErrored = false;\n    var reset = function () {\n        connection = subject = null;\n        hasCompleted = hasErrored = false;\n    };\n    return operate(function (source, subscriber) {\n        refCount++;\n        if (!subject) {\n            subject = connector();\n        }\n        var castSubscription = subject.subscribe(subscriber);\n        if (!connection) {\n            connection = from(source).subscribe({\n                next: function (value) { return subject.next(value); },\n                error: function (err) {\n                    hasErrored = true;\n                    var dest = subject;\n                    if (resetOnError) {\n                        reset();\n                    }\n                    dest.error(err);\n                },\n                complete: function () {\n                    hasCompleted = true;\n                    var dest = subject;\n                    if (resetOnComplete) {\n                        reset();\n                    }\n                    dest.complete();\n                },\n            });\n        }\n        return function () {\n            refCount--;\n            castSubscription.unsubscribe();\n            if (!refCount && resetOnRefCountZero && !hasErrored && !hasCompleted) {\n                var conn = connection;\n                reset();\n                conn === null || conn === void 0 ? void 0 : conn.unsubscribe();\n            }\n        };\n    });\n}\n//# sourceMappingURL=share.js.map","import { ReplaySubject } from '../ReplaySubject';\nimport { share } from './share';\nexport function shareReplay(configOrBufferSize, windowTime, scheduler) {\n    var _a, _b;\n    var bufferSize;\n    var refCount = false;\n    if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n        bufferSize = (_a = configOrBufferSize.bufferSize) !== null && _a !== void 0 ? _a : Infinity;\n        windowTime = (_b = configOrBufferSize.windowTime) !== null && _b !== void 0 ? _b : Infinity;\n        refCount = !!configOrBufferSize.refCount;\n        scheduler = configOrBufferSize.scheduler;\n    }\n    else {\n        bufferSize = configOrBufferSize !== null && configOrBufferSize !== void 0 ? configOrBufferSize : Infinity;\n    }\n    return share({\n        connector: function () { return new ReplaySubject(bufferSize, windowTime, scheduler); },\n        resetOnError: true,\n        resetOnComplete: false,\n        resetOnRefCountZero: refCount\n    });\n}\n//# sourceMappingURL=shareReplay.js.map","import { concat } from '../observable/concat';\nimport { popScheduler } from '../util/args';\nimport { operate } from '../util/lift';\nexport function startWith() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    var scheduler = popScheduler(values);\n    return operate(function (source, subscriber) {\n        (scheduler ? concat(values, source, scheduler) : concat(values, source)).subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=startWith.js.map","import { innerFrom } from '../observable/from';\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function switchMap(project, resultSelector) {\n    return operate(function (source, subscriber) {\n        var innerSubscriber = null;\n        var index = 0;\n        var isComplete = false;\n        var checkComplete = function () { return isComplete && !innerSubscriber && subscriber.complete(); };\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            innerSubscriber === null || innerSubscriber === void 0 ? void 0 : innerSubscriber.unsubscribe();\n            var innerIndex = 0;\n            var outerIndex = index++;\n            innerFrom(project(value, outerIndex)).subscribe((innerSubscriber = new OperatorSubscriber(subscriber, function (innerValue) { return subscriber.next(resultSelector ? resultSelector(value, innerValue, outerIndex, innerIndex++) : innerValue); }, undefined, function () {\n                innerSubscriber = null;\n                checkComplete();\n            })));\n        }, undefined, function () {\n            isComplete = true;\n            checkComplete();\n        }));\n    });\n}\n//# sourceMappingURL=switchMap.js.map","import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n    var tapObserver = isFunction(observerOrNext) || error || complete ? { next: observerOrNext, error: error, complete: complete } : observerOrNext;\n    return tapObserver\n        ? operate(function (source, subscriber) {\n            source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, function (err) {\n                var _a;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, function () {\n                var _a;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }));\n        })\n        :\n            identity;\n}\n//# sourceMappingURL=tap.js.map","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve an element matching the query selector\n *\n * @template T - Element type\n *\n * @param selector - Query selector\n * @param node - Node of reference\n *\n * @returns Element or nothing\n */\nexport function getElement<T extends keyof HTMLElementTagNameMap>(\n  selector: T, node?: ParentNode\n): HTMLElementTagNameMap[T]\n\nexport function getElement<T extends HTMLElement>(\n  selector: string, node?: ParentNode\n): T | undefined\n\nexport function getElement<T extends HTMLElement>(\n  selector: string, node: ParentNode = document\n): T | undefined {\n  return node.querySelector<T>(selector) || undefined\n}\n\n/**\n * Retrieve an element matching a query selector or throw a reference error\n *\n * @template T - Element type\n *\n * @param selector - Query selector\n * @param node - Node of reference\n *\n * @returns Element\n */\nexport function getElementOrThrow<T extends keyof HTMLElementTagNameMap>(\n  selector: T, node?: ParentNode\n): HTMLElementTagNameMap[T]\n\nexport function getElementOrThrow<T extends HTMLElement>(\n  selector: string, node?: ParentNode\n): T\n\nexport function getElementOrThrow<T extends HTMLElement>(\n  selector: string, node: ParentNode = document\n): T {\n  const el = getElement<T>(selector, node)\n  if (typeof el === \"undefined\")\n    throw new ReferenceError(\n      `Missing element: expected \"${selector}\" to be present`\n    )\n  return el\n}\n\n/**\n * Retrieve the currently active element\n *\n * @returns Element or nothing\n */\nexport function getActiveElement(): HTMLElement | undefined {\n  return document.activeElement instanceof HTMLElement\n    ? document.activeElement\n    : undefined\n}\n\n/**\n * Retrieve all elements matching the query selector\n *\n * @template T - Element type\n *\n * @param selector - Query selector\n * @param node - Node of reference\n *\n * @returns Elements\n */\nexport function getElements<T extends keyof HTMLElementTagNameMap>(\n  selector: T, node?: ParentNode\n): HTMLElementTagNameMap[T][]\n\nexport function getElements<T extends HTMLElement>(\n  selector: string, node?: ParentNode\n): T[]\n\nexport function getElements<T extends HTMLElement>(\n  selector: string, node: ParentNode = document\n): T[] {\n  return Array.from(node.querySelectorAll<T>(selector))\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Create an element\n *\n * @template T - Tag name type\n *\n * @param tagName - Tag name\n *\n * @returns Element\n */\nexport function createElement<T extends keyof HTMLElementTagNameMap>(\n  tagName: T\n): HTMLElementTagNameMap[T] {\n  return document.createElement(tagName)\n}\n\n/**\n * Replace an element with another element\n *\n * @param source - Source element\n * @param target - Target element\n */\nexport function replaceElement(\n  source: HTMLElement, target: Node\n): void {\n  source.replaceWith(target)\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport {\n  NEVER,\n  Observable,\n  Subject,\n  defer,\n  of\n} from \"rxjs\"\nimport {\n  filter,\n  finalize,\n  map,\n  shareReplay,\n  startWith,\n  switchMap,\n  tap\n} from \"rxjs/operators\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Element offset\n */\nexport interface ElementSize {\n  width: number                        /* Element width */\n  height: number                       /* Element height */\n}\n\n/* ----------------------------------------------------------------------------\n * Data\n * ------------------------------------------------------------------------- */\n\n/**\n * Resize observer entry subject\n */\nconst entry$ = new Subject<ResizeObserverEntry>()\n\n/**\n * Resize observer observable\n *\n * This observable will create a `ResizeObserver` on the first subscription\n * and will automatically terminate it when there are no more subscribers.\n * It's quite important to centralize observation in a single `ResizeObserver`,\n * as the performance difference can be quite dramatic, as the link shows.\n *\n * @see https://bit.ly/3iIYfEm - Google Groups on performance\n */\nconst observer$ = defer(() => of(\n  new ResizeObserver((entries) => {\n    for (const entry of entries)\n      entry$.next(entry)\n  })\n))\n  .pipe(\n    switchMap(resize => NEVER.pipe(startWith(resize))\n      .pipe(\n        finalize(() => resize.disconnect())\n      )\n    ),\n    shareReplay(1)\n  )\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve element size\n *\n * @param el - Element\n *\n * @returns Element size\n */\nexport function getElementSize(el: HTMLElement): ElementSize {\n  return {\n    width:  el.offsetWidth,\n    height: el.offsetHeight\n  }\n}\n\n/**\n * Retrieve element content size, i.e. including overflowing content\n *\n * @param el - Element\n *\n * @returns Element size\n */\nexport function getElementContentSize(el: HTMLElement): ElementSize {\n  return {\n    width:  el.scrollWidth,\n    height: el.scrollHeight\n  }\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Watch element size\n *\n * This function returns an observable that subscribes to a single internal\n * instance of `ResizeObserver` upon subscription, and emit resize events until\n * termination. Note that this function should not be called with the same\n * element twice, as the first unsubscription will terminate observation.\n *\n * @param el - Element\n *\n * @returns Element size observable\n */\nexport function watchElementSize(\n  el: HTMLElement\n): Observable<ElementSize> {\n  return observer$\n    .pipe(\n      tap(observer => observer.observe(el)),\n      switchMap(observer => entry$\n        .pipe(\n          filter(({ target }) => target === el),\n          finalize(() => observer.unobserve(el)),\n          map(({ contentRect }) => ({\n            width:  contentRect.width,\n            height: contentRect.height\n          }))\n        )\n      ),\n      startWith(getElementSize(el))\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { BehaviorSubject, Subject } from \"rxjs\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve location\n *\n * This function will return a `URL` object (and not `Location`) in order to\n * normalize typings across the application. Furthermore, locations need to be\n * tracked without setting them and `Location` is a singleton which represents\n * the current location.\n *\n * @returns URL\n */\nexport function getLocation(): URL {\n  return new URL(location.href)\n}\n\n/**\n * Set location\n *\n * @param url - URL to change to\n */\nexport function setLocation(url: URL): void {\n  location.href = url.href\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Watch location\n *\n * @returns Location subject\n */\nexport function watchLocation(): Subject<URL> {\n  return new BehaviorSubject<URL>(getLocation())\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, fromEvent, of } from \"rxjs\"\nimport { filter, map, share, startWith, switchMap } from \"rxjs/operators\"\n\nimport { createElement, getElement } from \"../../element\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve location hash\n *\n * @returns Location hash\n */\nexport function getLocationHash(): string {\n  return location.hash.substring(1)\n}\n\n/**\n * Set location hash\n *\n * Setting a new fragment identifier via `location.hash` will have no effect\n * if the value doesn't change. When a new fragment identifier is set, we want\n * the $browser to target the respective element at all times, which is why we\n * use this dirty little trick.\n *\n * @param hash - Location hash\n */\nexport function setLocationHash(hash: string): void {\n  const el = createElement(\"a\")\n  el.href = hash\n  el.addEventListener(\"click\", ev => ev.stopPropagation())\n  el.click()\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Watch location hash\n *\n * @returns Location hash observable\n */\nexport function watchLocationHash(): Observable<string> {\n  return fromEvent<HashChangeEvent>(window, \"hashchange\")\n    .pipe(\n      map(getLocationHash),\n      startWith(getLocationHash()),\n      filter(hash => hash.length > 0),\n      share()\n    )\n}\n\n/**\n * Watch location target\n *\n * @returns Location target observable\n */\nexport function watchLocationTarget(): Observable<HTMLElement> {\n  return watchLocationHash()\n    .pipe(\n      switchMap(id => of(getElement(`[id=\"${id}\"]`)!))\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { NEVER, Observable, fromEvent, merge } from \"rxjs\"\nimport {\n  filter,\n  map,\n  mapTo,\n  startWith,\n  switchMap\n} from \"rxjs/operators\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch media query\n *\n * @param query - Media query\n *\n * @returns Media observable\n */\nexport function watchMedia(query: string): Observable<boolean> {\n  const media = matchMedia(query)\n  return fromEvent<MediaQueryListEvent>(media, \"change\")\n    .pipe(\n      map(ev => ev.matches),\n      startWith(media.matches)\n    )\n}\n\n/**\n * Watch print mode, cross-$browser\n *\n * @returns Print mode observable\n */\nexport function watchPrint(): Observable<void> {\n  return merge(\n    watchMedia(\"print\").pipe(filter(Boolean)),  /* Webkit */\n    fromEvent(window, \"beforeprint\")            /* IE, FF */\n  )\n    .pipe(\n      mapTo(undefined)\n    )\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Toggle an observable with a media observable\n *\n * @templates T - Data type\n *\n * @param query$ - Media observable\n * @param factory - Observable factory\n *\n * @returns Toggled observable\n */\nexport function at<T>(\n  query$: Observable<boolean>, factory: () => Observable<T>\n): Observable<T> {\n  return query$\n    .pipe(\n      switchMap(active => active ? factory() : NEVER)\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, fromEvent, merge } from \"rxjs\"\nimport { map, startWith } from \"rxjs/operators\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Viewport offset\n */\nexport interface ViewportOffset {\n  x: number                            /* Horizontal offset */\n  y: number                            /* Vertical offset */\n}\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve viewport offset\n *\n * On iOS Safari, viewport offset can be negative due to overflow scrolling.\n * As this may induce strange behaviors downstream, we'll just limit it to 0.\n *\n * @returns Viewport offset\n */\nexport function getViewportOffset(): ViewportOffset {\n  return {\n    x: Math.max(0, pageXOffset),\n    y: Math.max(0, pageYOffset)\n  }\n}\n\n/**\n * Set viewport offset\n *\n * @param offset - Viewport offset\n */\nexport function setViewportOffset(\n  { x, y }: Partial<ViewportOffset>\n): void {\n  window.scrollTo(x || 0, y || 0)\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Watch viewport offset\n *\n * @returns Viewport offset observable\n */\nexport function watchViewportOffset(): Observable<ViewportOffset> {\n  return merge(\n    fromEvent(window, \"scroll\", { passive: true }),\n    fromEvent(window, \"resize\", { passive: true })\n  )\n    .pipe(\n      map(getViewportOffset),\n      startWith(getViewportOffset())\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, fromEvent } from \"rxjs\"\nimport { map, startWith } from \"rxjs/operators\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Viewport size\n */\nexport interface ViewportSize {\n  width: number                        /* Viewport width */\n  height: number                       /* Viewport height */\n}\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve viewport size\n *\n * @returns Viewport size\n */\nexport function getViewportSize(): ViewportSize {\n  return {\n    width:  innerWidth,\n    height: innerHeight\n  }\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Watch viewport size\n *\n * @returns Viewport size observable\n */\nexport function watchViewportSize(): Observable<ViewportSize> {\n  return fromEvent(window, \"resize\", { passive: true })\n    .pipe(\n      map(getViewportSize),\n      startWith(getViewportSize())\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { getElementOrThrow, getElements } from \"../../$browser\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Component\n */\nexport type ComponentType =\n  | \"announce\"                         /* Announcement bar */\n  | \"container\"                        /* Container */\n  | \"content\"                          /* Content */\n  | \"dialog\"                           /* Dialog */\n  | \"header\"                           /* Header */\n  | \"header-title\"                     /* Header title */\n  | \"header-topic\"                     /* Header topic */\n  | \"main\"                             /* Main area */\n  | \"search\"                           /* Search */\n  | \"search-query\"                     /* Search input */\n  | \"search-result\"                    /* Search results */\n  | \"sidebar\"                          /* Sidebar */\n  | \"skip\"                             /* Skip link */\n  | \"source\"                           /* Repository information */\n  | \"tabs\"                             /* Navigation tabs */\n  | \"toc\"                              /* Table of contents */\n\n/**\n * A component\n *\n * @template T - Component type\n * @template U - Reference type\n */\nexport type Component<\n  T extends {} = {},\n  U extends HTMLElement = HTMLElement\n> =\n  T & {\n    ref: U                             /* Component reference */\n  }\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve the element for a given component or throw a reference error\n *\n * @template T - Element type\n *\n * @param type - Component type\n * @param node - Node of reference\n *\n * @returns Element\n */\nexport function getComponentElement<T extends HTMLElement>(\n  type: ComponentType, node: ParentNode = document\n): T {\n  return getElementOrThrow(`[data-md-component=${type}]`, node)\n}\n\n/**\n * Retrieve all elements for a given component\n *\n * @template T - Element type\n *\n * @param type - Component type\n * @param node - Node of reference\n *\n * @returns Elements\n */\nexport function getComponentElements<T extends HTMLElement>(\n  type: ComponentType, node: ParentNode = document\n): T[] {\n  return getElements(`[data-md-component=${type}]`, node)\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { JSX as JSXInternal } from \"preact\"\n\n/* ----------------------------------------------------------------------------\n * Helper types\n * ------------------------------------------------------------------------- */\n\n/**\n * HTML attributes\n */\ntype Attributes =\n  & JSXInternal.HTMLAttributes\n  & JSXInternal.SVGAttributes\n  & Record<string, any>\n\n/**\n * Child element\n */\ntype Child =\n  | HTMLElement\n  | Text\n  | string\n  | number\n\n/* ----------------------------------------------------------------------------\n * Helper functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Append a child node to an element\n *\n * @param el - Element\n * @param child - Child node(s)\n */\nfunction appendChild(el: HTMLElement, child: Child | Child[]): void {\n\n  /* Handle primitive types (including raw HTML) */\n  if (typeof child === \"string\" || typeof child === \"number\") {\n    el.innerHTML += child.toString()\n\n  /* Handle nodes */\n  } else if (child instanceof Node) {\n    el.appendChild(child)\n\n  /* Handle nested children */\n  } else if (Array.isArray(child)) {\n    for (const node of child)\n      appendChild(el, node)\n  }\n}\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * JSX factory\n *\n * @param tag - HTML tag\n * @param attributes - HTML attributes\n * @param children - Child elements\n *\n * @returns Element\n */\nexport function h(\n  tag: string, attributes: Attributes | null, ...children: Child[]\n): HTMLElement {\n  const el = document.createElement(tag)\n\n  /* Set attributes, if any */\n  if (attributes)\n    for (const attr of Object.keys(attributes))\n      if (typeof attributes[attr] !== \"boolean\")\n        el.setAttribute(attr, attributes[attr])\n      else if (attributes[attr])\n        el.setAttribute(attr, \"\")\n\n  /* Append child nodes */\n  for (const child of children)\n    appendChild(el, child)\n\n  /* Return element */\n  return el\n}\n\n/* ----------------------------------------------------------------------------\n * Namespace\n * ------------------------------------------------------------------------- */\n\nexport declare namespace h {\n  namespace JSX {\n    type Element = HTMLElement\n    type IntrinsicElements = JSXInternal.IntrinsicElements\n  }\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { getElementOrThrow, getLocation } from \"../$browser\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n/**\n * Configuration\n */\nexport interface Config {\n    base: string                         /* Base URL */\n    search: string                       /* Search worker URL */\n}\n\n/* ----------------------------------------------------------------------------\n * Data\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve global configuration and make base URL absolute\n */\nconst script = getElementOrThrow(\"#__config\")\nconst config: Config = JSON.parse(script.textContent!)\nconfig.base = new URL(config.base, getLocation())\n    .toString()\n    .replace(/\\/$/, \"\")\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve global configuration\n *\n * @returns Global configuration\n */\nexport function configuration(): Config {\n    return config\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { configuration } from \"../../_\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Truncate a string after the given number of characters\n *\n * This is not a very reasonable approach, since the summaries kind of suck.\n * It would be better to create something more intelligent, highlighting the\n * search occurrences and making a better summary out of it, but this note was\n * written three years ago, so who knows if we'll ever fix it.\n *\n * @param value - Value to be truncated\n * @param n - Number of characters\n *\n * @returns Truncated value\n */\nexport function truncate(value: string, n: number): string {\n  let i = n\n  if (value.length > i) {\n    while (value[i] !== \" \" && --i > 0) { /* keep eating */ }\n    return `${value.substring(0, i)}...`\n  }\n  return value\n}\n\n/**\n * Round a number for display with repository facts\n *\n * This is a reverse-engineered version of GitHub's weird rounding algorithm\n * for stars, forks and all other numbers. While all numbers below `1,000` are\n * returned as-is, bigger numbers are converted to fixed numbers:\n *\n * - `1,049` => `1k`\n * - `1,050` => `1.1k`\n * - `1,949` => `1.9k`\n * - `1,950` => `2k`\n *\n * @param value - Original value\n *\n * @returns Rounded value\n */\nexport function round(value: number): string {\n  if (value > 999) {\n    const digits = +((value - 950) % 1000 > 99)\n    return `${((value + 0.000001) / 1000).toFixed(digits)}k`\n  } else {\n    return value.toString()\n  }\n}\n\n/**\n * Simple hash function\n *\n * @see https://bit.ly/2wsVjJ4 - Original source\n *\n * @param value - Value to be hashed\n *\n * @returns Hash as 32bit integer\n */\nexport function hash(value: string): number {\n  let h = 0\n  for (let i = 0, len = value.length; i < len; i++) {\n    h  = ((h << 5) - h) + value.charCodeAt(i)\n    h |= 0 // Convert to 32bit integer\n  }\n  return h\n}\n\n/**\n * Add a digest to a value to ensure uniqueness\n *\n * When a single account hosts multiple sites on the same GitHub Pages domain,\n * entries would collide, because session and local storage are not unique.\n *\n * @param value - Value\n *\n * @returns Value with digest\n */\nexport function digest(value: string): string {\n  const config = configuration()\n  return `${value}[${hash(config.base)}]`\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Repo, User } from \"github-types\"\nimport { Observable } from \"rxjs\"\nimport { defaultIfEmpty, map } from \"rxjs/operators\"\n\nimport { requestJSON } from \"../../../../$browser\"\nimport { round } from \"../../../..//utilities\"\n\nimport { SourceFacts } from \"../_\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Fetch GitHub repository facts\n *\n * @param user - GitHub user\n * @param repo - GitHub repository\n *\n * @returns Repository facts observable\n */\nexport function fetchSourceFactsFromGitHub(\n  user: string, repo?: string\n): Observable<SourceFacts> {\n  const url = typeof repo !== \"undefined\"\n    ? `https://api.github.com/repos/${user}/${repo}`\n    : `https://api.github.com/users/${user}`\n  return requestJSON<Repo & User>(url)\n    .pipe(\n      map(data => {\n\n        /* GitHub repository */\n        if (typeof repo !== \"undefined\") {\n          const { stargazers_count, forks_count }: Repo = data\n          return [\n            `${round(stargazers_count!)} Stars`,\n            `${round(forks_count!)} Forks`\n          ]\n\n        /* GitHub user/organization */\n        } else {\n          const { public_repos }: User = data\n          return [\n            `${round(public_repos!)} Repositories`\n          ]\n        }\n      }),\n      defaultIfEmpty([])\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, from } from \"rxjs\"\nimport {\n  filter,\n  map,\n  shareReplay,\n  switchMap\n} from \"rxjs/operators\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Fetch the given URL\n *\n * @param url - Request URL\n * @param options - Options\n *\n * @returns Response observable\n */\nexport function request(\n  url: URL | string, options: RequestInit = { credentials: \"same-origin\" }\n): Observable<Response> {\n  return from(fetch(url.toString(), options))\n    .pipe(\n      filter(res => res.status === 200),\n    )\n}\n\n/**\n * Fetch JSON from the given URL\n *\n * @template T - Data type\n *\n * @param url - Request URL\n * @param options - Options\n *\n * @returns Data observable\n */\nexport function requestJSON<T>(\n  url: URL | string, options?: RequestInit\n): Observable<T> {\n  return request(url, options)\n    .pipe(\n      switchMap(res => res.json()),\n      shareReplay(1)\n    )\n}\n\n/**\n * Fetch XML from the given URL\n *\n * @param url - Request URL\n * @param options - Options\n *\n * @returns Data observable\n */\nexport function requestXML(\n  url: URL | string, options?: RequestInit\n): Observable<Document> {\n  const dom = new DOMParser()\n  return request(url, options)\n    .pipe(\n      switchMap(res => res.text()),\n      map(res => dom.parseFromString(res, \"text/xml\")),\n      shareReplay(1)\n    )\n}\n","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) { defaultValue = null; }\n    return operate(function (source, subscriber) {\n        var hasValue = false;\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            hasValue = true;\n            subscriber.next(value);\n        }, undefined, function () {\n            if (!hasValue) {\n                subscriber.next(defaultValue);\n            }\n            subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=defaultIfEmpty.js.map","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport {defer, NEVER, Observable, of, Subject} from \"rxjs\"\nimport {catchError, filter, finalize, map, shareReplay, tap} from \"rxjs/operators\"\n\nimport {setSourceFacts, setSourceState} from \"../actions\"\nimport {renderSourceFacts} from \"../templates\"\nimport {hash} from \"../../../utilities\"\n\nimport {Component} from \"../../_\"\nimport {fetchSourceFacts, SourceFacts} from \"../facts\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Repository information\n */\nexport interface Source {\n  facts: SourceFacts                   /* Repository facts */\n}\n\n/* ----------------------------------------------------------------------------\n * Data\n * ------------------------------------------------------------------------- */\n\n/**\n * Repository facts observable\n */\nlet fetch$: Observable<Source>\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch repository information\n *\n * This function will try to read the repository facts from session storage,\n * and if unsuccessful, fetch them from the underlying provider.\n *\n * @param el - Repository information element\n *\n * @returns Repository information observable\n */\nexport function watchSource(\n  el: HTMLAnchorElement\n): Observable<Source> {\n  debugger;\n  const digest = hash(el.href).toString()\n\n  /* Fetch repository facts once */\n  fetch$ = defer(() => {\n    const data = sessionStorage.getItem(digest)\n    if (data) {\n      return of(JSON.parse(data))\n    } else {\n      const value$ = fetchSourceFacts(el.href)\n      value$.subscribe(value => {\n        try {\n          sessionStorage.setItem(digest, JSON.stringify(value))\n        } catch (err) {\n          /* Uncritical, just swallow */\n        }\n      })\n\n      /* Return value */\n      return value$\n    }\n  })\n    .pipe(\n      catchError(() => NEVER),\n      filter(facts => facts.length > 0),\n      map(facts => ({facts})),\n      shareReplay(1)\n    )\n\n  return fetch$;\n}\n\n/**\n * Mount repository information\n *\n * @param el - Repository information element\n *\n * @returns Repository information component observable\n */\nexport function mountSource(\n  el: HTMLAnchorElement\n): Observable<Component<Source>> {\n  const internal$ = new Subject<Source>()\n  internal$.subscribe(({facts}) => {\n    setSourceFacts(el, renderSourceFacts(facts))\n    setSourceState(el, \"done\")\n  })\n\n  /* Create and return component */\n  return watchSource(el)\n    .pipe(\n      tap(internal$),\n      finalize(() => internal$.complete()),\n      map(state => ({ref: el, ...state}))\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { NEVER, Observable } from \"rxjs\"\n\nimport { fetchSourceFactsFromGitHub } from \"../github\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Repository facts\n */\nexport type SourceFacts = string[]\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Fetch repository facts\n *\n * @param url - Repository URL\n *\n * @returns Repository facts observable\n */\nexport function fetchSourceFacts(\n  url: string\n): Observable<SourceFacts> {\n  const [type] = url.match(/(git(?:hub|lab))/i) || []\n  switch (type.toLowerCase()) {\n\n    /* GitHub repository */\n    case \"github\":\n      const [, user, repo] = url.match(/^.+github\\.com\\/([^/]+)\\/?([^/]+)?/i)!\n      return fetchSourceFactsFromGitHub(user, repo)\n\n    /* Everything else */\n    default:\n      return NEVER\n  }\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Set tabs state\n *\n * @param el - Tabs element\n * @param state - Tabs state\n */\nexport function setTabsState(\n  el: HTMLElement, state: \"hidden\"\n): void {\n  el.setAttribute(\"data-md-state\", state)\n}\n\n/**\n * Reset tabs state\n *\n * @param el - Tabs element\n */\nexport function resetTabsState(\n  el: HTMLElement\n): void {\n  el.removeAttribute(\"data-md-state\")\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, Subject, animationFrameScheduler } from \"rxjs\"\nimport {\n  distinctUntilKeyChanged,\n  finalize,\n  map,\n  observeOn,\n  tap\n} from \"rxjs/operators\"\n\nimport { resetTabsState, setTabsState } from \"./actions\";\nimport { Viewport, watchViewportAt } from \"../../$browser\";\n\nimport { Component } from \"../_\";\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Navigation tabs\n */\nexport interface Tabs {\n  hidden: boolean                      /* User scrolled past tabs */\n}\n\n/* ----------------------------------------------------------------------------\n * Helper types\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch options\n */\ninterface WatchOptions {\n  viewport$: Observable<Viewport>      /* Viewport observable */\n  // header$: Observable<Header>          /* Header observable */\n}\n\n/**\n * Mount options\n */\ninterface MountOptions {\n  viewport$: Observable<Viewport>      /* Viewport observable */\n  // header$: Observable<Header>          /* Header observable */\n}\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch navigation tabs\n *\n * @param el - Navigation tabs element\n * @param options - Options\n *\n * @returns Navigation tabs observable\n */\nexport function watchTabs(\n  el: HTMLElement, { viewport$ }: WatchOptions\n): Observable<Tabs> {\n  return watchViewportAt(el, { viewport$ })\n    .pipe(\n      map(({ offset: { y } }) => {\n        return {\n          hidden: y >= 10\n        }\n      }),\n      distinctUntilKeyChanged(\"hidden\")\n    )\n}\n\n/**\n * Mount navigation tabs\n *\n * This function hides the navigation tabs when scrolling past the threshold\n * and makes them reappear in a nice CSS animation when scrolling back up.\n *\n * @param el - Navigation tabs element\n * @param options - Options\n *\n * @returns Navigation tabs component observable\n */\nexport function mountTabs(\n  el: HTMLElement, options: MountOptions\n): Observable<Component<Tabs>> {\n  const internal$ = new Subject<Tabs>()\n  internal$\n    .pipe(\n      observeOn(animationFrameScheduler)\n    )\n    .subscribe({\n\n      /* Update state */\n      next({ hidden }) {\n        if (hidden)\n          setTabsState(el, \"hidden\")\n        else\n          resetTabsState(el)\n      },\n\n      /* Reset on complete */\n      complete() {\n        resetTabsState(el)\n      }\n    })\n\n  /* Create and return component */\n  return watchTabs(el, options)\n    .pipe(\n      tap(internal$),\n      finalize(() => internal$.complete()),\n      map(state => ({ ref: el, ...state }))\n    )\n}\n","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) { return subscriber.add(scheduler.schedule(function () { return subscriber.next(value); }, delay)); }, function (err) { return subscriber.add(scheduler.schedule(function () { return subscriber.error(err); }, delay)); }, function () { return subscriber.add(scheduler.schedule(function () { return subscriber.complete(); }, delay)); }));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, combineLatest } from \"rxjs\"\nimport {\n  distinctUntilKeyChanged,\n  map,\n  shareReplay,\n} from \"rxjs/operators\"\n\nimport {\n  ViewportOffset,\n  watchViewportOffset\n} from \"../offset\"\nimport {\n  ViewportSize,\n  watchViewportSize\n} from \"../size\"\nimport {ElementSize, watchElementSize} from \"../../element/size\";\nimport {getElementOrThrow} from \"../../element/_\";\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Viewport\n */\nexport interface Viewport {\n  offset: ViewportOffset               /* Viewport offset */\n  size: ViewportSize                   /* Viewport size */\n}\n\n/* ----------------------------------------------------------------------------\n * Helper types\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch at options\n */\ninterface WatchAtOptions {\n  viewport$: Observable<Viewport>      /* Viewport observable */\n}\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch viewport\n *\n * @returns Viewport observable\n */\nexport function watchViewport(): Observable<Viewport> {\n  return combineLatest([\n    watchViewportOffset(),\n    watchViewportSize()\n  ])\n    .pipe(\n      map(([offset, size]) => ({ offset, size } as Viewport)),\n      shareReplay(1)\n    )\n}\n\n/**\n * Watch viewport relative to element\n *\n * @param el - Element\n * @param options - Options\n *\n * @returns Viewport observable\n */\nexport function watchViewportAt(\n  el: HTMLElement, { viewport$ }: WatchAtOptions\n): Observable<Viewport> {\n  const size$ = viewport$\n    .pipe(\n      distinctUntilKeyChanged(\"size\")\n    )\n\n  /* Compute element offset */\n  const offset$ = combineLatest([size$])\n    .pipe(\n      map((): ViewportOffset => ({\n        x: el.offsetLeft,\n        y: el.offsetTop\n      }))\n    )\n\n  const $headerSize = watchElementSize(getElementOrThrow(`[data-md-component=header]`));\n\n  /* Compute relative viewport, return hot observable */\n  return (combineLatest([viewport$, offset$, $headerSize]) as Observable<[Viewport, ViewportOffset, ElementSize]>)\n    .pipe(\n      map(([{ offset, size }, { x, y }, {height}]) => ({\n        offset: {\n          x: offset.x - x,\n          y: offset.y - y + height\n        },\n        size\n      })),\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport \"focus-visible\"\nimport {merge, Observable, Subject} from \"rxjs\"\nimport {filter, mergeWith, shareReplay} from \"rxjs/operators\"\n\nimport {\n  getElement,\n  watchDocument,\n  watchKeyboard,\n  watchLocation,\n  watchLocationTarget,\n  watchMedia,\n  watchPrint,\n  watchViewport\n} from \"./$browser\"\nimport {\n  Component,\n  getComponentElements,\n  mountSource,\n  mountTabs,\n} from \"./components\"\n// import {setupClipboardJS,} from \"./integrations\"\n// import {\n//     patchIndeterminate,\n//     patchScrollfix,\n//     patchScrolllock\n// } from \"./patches\"\n\n/* ----------------------------------------------------------------------------\n * Application\n * ------------------------------------------------------------------------- */\n\n/* Yay, JavaScript is available */\ndocument.documentElement.classList.remove(\"no-js\")\ndocument.documentElement.classList.add(\"js\")\n\n/* Set up navigation observables and subjects */\nconst document$ = watchDocument()\nconst location$ = watchLocation()\nconst target$ = watchLocationTarget()\nconst keyboard$ = watchKeyboard()\n\n/* Set up media observables */\nconst viewport$ = watchViewport()\nconst tablet$ = watchMedia(\"(min-width: 960px)\")\nconst screen$ = watchMedia(\"(min-width: 1220px)\")\nconst print$ = watchPrint()\n\n/* Set up Clipboard.js integration */\nconst alert$ = new Subject<string>()\n// setupClipboardJS({alert$})\n\n/* Set up instant loading */\n// setupInstantLoading({document$, location$, viewport$})\n\n/* Always close drawer and search on navigation */\n// merge(location$, target$)\n//   .pipe(\n//     delay(125)\n//   )\n//   .subscribe(() => {\n//     setToggle(\"drawer\", false)\n//     setToggle(\"search\", false)\n//   })\n\n/* Set up global keyboard handlers */\nkeyboard$\n  .pipe(\n    filter(({mode}) => mode === \"global\")\n  )\n  .subscribe(key => {\n    switch (key.type) {\n\n      /* Go to previous page */\n      case \"p\":\n      case \",\":\n        const prev = getElement(\"[href][rel=prev]\")\n        if (typeof prev !== \"undefined\")\n          prev.click()\n        break\n\n      /* Go to next page */\n      case \"n\":\n      case \".\":\n        const next = getElement(\"[href][rel=next]\")\n        if (typeof next !== \"undefined\")\n          next.click()\n        break\n    }\n  })\n\n/* Set up patches */\n// patchIndeterminate({document$})\n// patchScrollfix({document$})\n// patchScrolllock({viewport$, tablet$})\n\n/* Set up control component observables */\nconst control$ = merge(\n  /* Dialog */\n  // ...getComponentElements(\"dialog\")\n  //     .map(el => mountDialog(el, {alert$})),\n\n  /* Repository information */\n  ...getComponentElements(\"source\")\n    .map(el => mountSource(el as HTMLAnchorElement)),\n\n  /* Navigation tabs */\n  ...getComponentElements(\"tabs\")\n    .map(el => mountTabs(el, { viewport$ })),\n)\n\n/* Set up content component observables */\n// const content$ = defer(() => merge(\n//     /* Content */\n//     ...getComponentElements(\"content\")\n//         .map(el => mountContent(el, {target$, viewport$, print$})),\n// ))\n\n/* Set up component observables */\nconst component$ = document$\n  .pipe(\n    // switchMap(() => content$),\n    mergeWith(control$),\n    shareReplay(1)\n  )\n//\n// /* Subscribe to all components */\ncomponent$.subscribe()\n\n/* ----------------------------------------------------------------------------\n * Exports\n * ------------------------------------------------------------------------- */\n\nwindow.document$ = document$\nwindow.location$ = location$\nwindow.target$ = target$\nwindow.keyboard$ = keyboard$\nwindow.viewport$ = viewport$\nwindow.tablet$ = tablet$\nwindow.screen$ = screen$\nwindow.print$ = print$\nwindow.alert$ = alert$\nwindow.component$ = component$ as Observable<Component>\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport {fromEvent, ReplaySubject, Subject} from \"rxjs\"\nimport {mapTo} from \"rxjs/operators\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch document\n *\n * Documents must be implemented as subjects, so all downstream observables are\n * automatically updated when a new document is emitted. This enabled features\n * like instant loading.\n *\n * @returns Document subject\n */\nexport function watchDocument(): Subject<Document> {\n  const document$ = new ReplaySubject<Document>()\n  fromEvent(document, \"DOMContentLoaded\")\n    .pipe(\n      mapTo(document),\n    )\n    .subscribe(document$)\n\n  /* Return document */\n  return document$\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, fromEvent } from \"rxjs\"\nimport { filter, map, share } from \"rxjs/operators\"\n\nimport { getActiveElement } from \"../element\"\nimport { getToggle } from \"../toggle\"\n\n/* ----------------------------------------------------------------------------\n * Types\n * ------------------------------------------------------------------------- */\n\n/**\n * Keyboard mode\n */\nexport type KeyboardMode =\n  | \"global\"                           /* Global */\n  | \"search\"                           /* Search is open */\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Keyboard\n */\nexport interface Keyboard {\n  mode: KeyboardMode                   /* Keyboard mode */\n  type: string                         /* Key type */\n  claim(): void                        /* Key claim */\n}\n\n/* ----------------------------------------------------------------------------\n * Helper functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Check whether an element may receive keyboard input\n *\n * @param el - Element\n *\n * @returns Test result\n */\nfunction isSusceptibleToKeyboard(el: HTMLElement): boolean {\n  switch (el.tagName) {\n\n    /* Form elements */\n    case \"INPUT\":\n    case \"SELECT\":\n    case \"TEXTAREA\":\n      return true\n\n    /* Everything else */\n    default:\n      return el.isContentEditable\n  }\n}\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Watch keyboard\n *\n * @returns Keyboard observable\n */\nexport function watchKeyboard(): Observable<Keyboard> {\n  return fromEvent<KeyboardEvent>(window, \"keydown\")\n    .pipe(\n      filter(ev => !(ev.metaKey || ev.ctrlKey)),\n      map(ev => ({\n        mode: getToggle(\"search\") ? \"search\" : \"global\",\n        type: ev.key,\n        claim() {\n          ev.preventDefault()\n          ev.stopPropagation()\n        }\n      } as Keyboard)),\n      filter(({ mode }) => {\n        if (mode === \"global\") {\n          const active = getActiveElement()\n          if (typeof active !== \"undefined\")\n            return !isSusceptibleToKeyboard(active)\n        }\n        return true\n      }),\n      share()\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { Observable, fromEvent } from \"rxjs\"\nimport { map, startWith } from \"rxjs/operators\"\n\nimport { getElementOrThrow } from \"../element\"\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Retrieve the value of a toggle\n *\n * @param name - Toggle\n *\n * @returns Toggle value\n */\nexport function getToggle(name: string): boolean {\n  const el: HTMLInputElement = getElementOrThrow(`[data-md-toggle=${name}]`);\n  return el.checked\n}\n\n/**\n * Set toggle\n *\n * Simulating a click event seems to be the most cross-$browser compatible way\n * of changing the value while also emitting a `change` event. Before, Material\n * used `CustomEvent` to programmatically change the value of a toggle, but this\n * is a much simpler and cleaner solution which doesn't require a polyfill.\n *\n * @param name - Toggle\n * @param value - Toggle value\n */\nexport function setToggle(name: string, value: boolean): void {\n  const el: HTMLInputElement = getElementOrThrow(`[data-md-toggle=${name}]`);\n  if (el.checked !== value)\n    el.click()\n}\n\n/* ------------------------------------------------------------------------- */\n\n/**\n * Watch toggle\n *\n * @param name - Toggle\n *\n * @returns Toggle value observable\n */\nexport function watchToggle(name: string): Observable<boolean> {\n  const el: HTMLInputElement = getElementOrThrow(`[data-md-toggle=${name}]`);\n  return fromEvent(el, \"change\")\n    .pipe(\n      map(() => el.checked),\n      startWith(el.checked)\n    )\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Set repository facts\n *\n * @param el - Repository element\n * @param child - Repository facts element\n */\nexport function setSourceFacts(\n  el: HTMLElement, child: Element\n): void {\n  el.lastElementChild!.appendChild(child)\n}\n\n/**\n * Set repository state\n *\n * @param el - Repository element\n * @param state - Repository state\n */\nexport function setSourceState(\n  el: HTMLElement, state: \"done\"\n): void {\n  el.lastElementChild!.setAttribute(\"data-md-state\", state)\n}\n","/*\n * Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\nimport { SourceFacts } from \"../facts\";\nimport { h } from \"../../../utilities\";\n\n/* ----------------------------------------------------------------------------\n * Functions\n * ------------------------------------------------------------------------- */\n\n/**\n * Render repository facts\n *\n * @param facts - Repository facts\n *\n * @returns Element\n */\nexport function renderSourceFacts(facts: SourceFacts): HTMLElement {\n  return (\n    <ul class=\"flex text-xs space-x-2 opacity-75 source__facts\">\n      {facts.map(fact => (\n          <li class=\"source__fact\">{fact}</li>\n        ))}\n      </ul>\n  )\n}\n"],"names":["factory","applyFocusVisiblePolyfill","scope","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","inputTypesAllowlist","text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local","isValidFocusTarget","el","document","nodeName","classList","addFocusVisibleClass","contains","add","setAttribute","onPointerDown","e","addInitialPointerMoveListeners","addEventListener","onInitialPointerMove","target","toLowerCase","removeEventListener","metaKey","altKey","ctrlKey","activeElement","visibilityState","type","tagName","readOnly","isContentEditable","hasAttribute","window","clearTimeout","setTimeout","remove","removeAttribute","nodeType","Node","DOCUMENT_FRAGMENT_NODE","host","DOCUMENT_NODE","documentElement","event","CustomEvent","error","createEvent","initCustomEvent","dispatchEvent","exports","module","define","amd","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__values","o","s","Symbol","iterator","m","i","call","length","next","value","done","TypeError","__read","n","r","ar","push","return","__spread","arguments","concat","__asyncValues","asyncIterator","verb","v","Promise","resolve","reject","then","isFunction","createErrorClass","createImpl","ctorFunc","instance","Error","stack","UnsubscriptionError","_super","errors","message","map","err","toString","join","name","arrRemove","arr","item","index","indexOf","splice","Subscription","initialTeardown","closed","_parentage","_teardowns","empty","unsubscribe","e_1","_a","e_2","_b","isArray","_parentage_1","_parentage_1_1","e_1_1","_teardowns_1","_teardowns_1_1","teardown_1","execTeardown","e_2_1","teardown","_hasParent","_addParent","parent","includes","_removeParent","EMPTY","EMPTY_SUBSCRIPTION","isSubscription","config","timeoutProvider","args","_i","delegate","apply","handle","reportUnhandledError","noop","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","complete","SafeSubscriber","_next","_error","_complete","observerOrNext","context_1","bind","defaultErrorHandler","observable","identity","x","pipeFromArray","fns","input","reduce","prev","fn","Observable","subscribe","_subscribe","lift","operator","source","subscriber","_trySubscribe","sink","forEach","promiseCtor","getPromiseCtor","subscription","Symbol_observable","pipe","operations","toPromise","operate","init","liftedSource","OperatorSubscriber","onNext","onError","onComplete","onUnsubscribe","animationFrameProvider","schedule","callback","request","requestAnimationFrame","cancel","cancelAnimationFrame","timestamp","ObjectUnsubscribedError","Subject","observers","hasError","thrownError","subject","AnonymousSubject","_throwIfClosed","copy","slice","copy_1","copy_1_1","shift","_checkFinalizedStatuses","_innerSubscribe","asObservable","BehaviorSubject","_value","defineProperty","get","getValue","enumerable","configurable","dateTimestampProvider","now","Date","ReplaySubject","bufferSize","windowTime","timestampProvider","Infinity","buffer","infiniteTimeWindow","Math","max","trimBuffer","adjustedBufferSize","last","Action","scheduler","work","state","delay","intervalProvider","setInterval","clearInterval","AsyncAction","pending","id","recycleAsyncId","requestAsyncId","_id","flush","_scheduler","execute","_execute","_delay","errorValue","errored","actions","Scheduler","schedulerActionCtor","AsyncScheduler","SchedulerAction","active","scheduled","action","AnimationFrameAction","animationFrameScheduler","AnimationFrameScheduler","count","scheduleArray","isArrayLike","isPromise","isInteropObservable","isIterable","Symbol_iterator","isAsyncIterable","obj","createInvalidObservableTypeError","from","sub","result","innerFrom","obs","fromArrayLike","promise","asyncIterable","asyncIterable_1","asyncIterable_1_1","thisArg","_arguments","P","generator","fulfilled","step","rejected","throw","__awaiter","body","f","y","t","g","_","label","sent","trys","ops","op","pop","__generator","catch","iterable","array","internalFromArray","popResultSelector","popScheduler","popNumber","defaultValue","of","project","mapOneOrManyArgs","getPrototypeOf","objectProto","getKeys","keys","argsArgArrayOrObject","first_1","key","combineLatest","resultSelector","observables","combineLatestInit","values","CombineLatestSubscriber","shouldComplete","valueTransform","maybeSchedule","hasValues","waitingForFirstValues","_loop_1","every","mergeMap","concurrent","a","ii","onBeforeNext","expand","innerSubScheduler","additionalTeardown","isComplete","checkComplete","outerNext","doInnerSub","innerValue","bufferedValue","mergeAll","concatAll","defer","observableFactory","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","fromEvent","eventName","options","methodName","handler","addListener","removeListener","toCommonHandlerRegistry","on","off","subTarget","argsOrArgArray","merge","sources","NEVER","filter","predicate","catchError","selector","handledResult","innerSub","syncUnsub","mapTo","defaultCompare","distinctUntilKeyChanged","compare","keySelector","first","finalize","share","connector","resetOnComplete","_c","resetOnError","_d","resetOnRefCountZero","connection","refCount","hasCompleted","hasErrored","reset","castSubscription","dest","conn","shareReplay","configOrBufferSize","startWith","switchMap","innerSubscriber","innerIndex","outerIndex","tap","tapObserver","getElement","node","querySelector","getElementOrThrow","ReferenceError","entry$","observer$","ResizeObserver","entries","entry","resize","disconnect","getLocation","URL","location","href","getLocationHash","hash","substring","watchMedia","query","media","matchMedia","ev","matches","getViewportOffset","pageXOffset","pageYOffset","getViewportSize","width","innerWidth","height","innerHeight","getComponentElements","querySelectorAll","appendChild","child","innerHTML","h","tag","attributes","children","createElement","attr","script","JSON","parse","textContent","round","toFixed","fetchSourceFactsFromGitHub","user","repo","credentials","fetch","res","status","json","requestJSON","data","stargazers_count","forks_count","public_repos","hasValue","fetch$","watchSource","digest","len","charCodeAt","sessionStorage","getItem","value$","match","setItem","stringify","facts","resetTabsState","mountTabs","internal$","[object Object]","hidden","viewport$","offset$","offsetLeft","offsetTop","observer","observe","unobserve","contentRect","offsetWidth","offsetHeight","offset","size","watchViewportAt","ref","base","replace","document$","location$","target$","keyboard$","mode","checked","preventDefault","stopPropagation","HTMLElement","passive","tablet$","screen$","print$","Boolean","alert$","click","control$","lastElementChild","class","fact","mountSource","component$","otherSources"],"mappings":"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"}